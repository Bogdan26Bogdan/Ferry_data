name: cron job
on:
    schedule:
        - cron: 23 */1 * * * # every hour
    workflow_dispatch:
permissions: 
    contents: write
jobs:
    hourly-job: 
        runs-on: ubuntu-latest

        steps:
            - uses: actions/checkout@v4
            - name: Set up Python 3.10
              uses: actions/setup-python@v3
              with:
                python-version: "3.10"
            - name: Install dependencies
              run: |
                python3 -m pip install --upgrade pip
                pip install -r requirements.txt
            - name: Run Ferry API
              run: |
                python3 Ferry_api_cron.py
            - name: Commit and push changes
              run: |
                git config user.name "github-actions[bot]"
                git config user.email "41898282+github-actions[bot]@users.noreply.github.com"
                git add .
                git commit -m "grabbed api data at $(date)"
                git push


              
                  